---
title: Unitree Robotics
description: "Unitree G1 Humanoid"
---

## Useful links and reading 

https://support.unitree.com/home/en/G1_developer
https://github.com/unitreerobotics/avp_teleoperate

C++ SDK
https://github.com/unitreerobotics/unitree_sdk2

Python SDK
https://github.com/unitreerobotics/unitree_sdk2_python

## Basic commands

Run

```bash Run Robot
uv run src/run.py unitree_g1
```

## System Description

Your computer will be at `192.168.123.99`
The factory ip address of the LIDAR is `192.168.123.120`
The internal control computer (RockChip, aka the `operation and control computing unit`) is at `192.168.123.161`
The internal development computer (Orin 16GB, aka the `development computing unit`) is at `192.168.123.164`

## Check CycloneDDS

./ddsperf sanity

## Turn the wifi on/off
```
sudo nmcli radio wifi on
```

## Join network
```
sudo nmcli device wifi connect XXXXX password XXXXX
```

## Set time via NTP
```
sudo timedatectl set-ntp yes
```

## Control via hand controller

Hang G1 on gantry

Turn on (short press, long press)

Wait for boot to complete

When the G1 boots, it is in `damp` state.

Use the hand controller to command "L1+A" and "L1+UP", the system is ready to move using the `ai_sport` client. The system will respond to manual controller and SDK commands.

* Press "L1+A" -> EMERGENCY DAMP / SINK TO FLOOR
* Press "L1+UP" -> Stand firmly (aka "lock stand")
* Press "Start" to switch back and forth between `stand` and `step in place`. 
* SELECT + Y -> Wave Hand. Alternates sides
* SELECT + A -> Handshake. Wait 3s and press again to relax arm to initial state 
* SELECT + Click X -> Turn around and wave hand

Use the joysticks to move forwards and backwards, and to rotate/turn

## Special DEBUG state

Avoid this mode since it disables all high level motion since it turns off the `ai_sport` client.

* Press L2+R2 -> Enter DEBUG STATE 
* Press L2+A  -> Diagnostic Posture (Arms bent)
* Press L2+B  -> Relax arms, damping state 

To exit this mode, reboot the G1.

## Using the internal Orin

SSH to Orin via 

```
ssh unitree@192.168.123.164
```

The default password is `123` but you should obviously change this. Result:

``` 
Welcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.10.104-tegra aarch64)
Last login: Thu Jan  1 08:30:46 1970
ros:foxy(1) noetic(2) ?
```

Select `foxy(1)`.

## Install CycloneDDS on Orin

Follow all instructions at https://github.com/unitreerobotics/unitree_ros2.

```
export CYCLONEDDS_HOME="$HOME/unitree_ros2/cyclonedds_ws/install"
```

You will need to correct the setting in `.bashrc` and in `setup.sh`. Set `~/unitree_ros2/setup.sh` to

```bash
#!/bin/bash
echo "Setup unitree ros2 environment"
source /opt/ros/foxy/setup.bash
source $HOME/unitree_ros2/cyclonedds_ws/install/setup.bash
export RMW_IMPLEMENTATION=rmw_cyclonedds_cpp
export CYCLONEDDS_URI='<CycloneDDS><Domain><General><Interfaces>
<NetworkInterface name="eth0" priority="default" multicast="default" />
</Interfaces></General></Domain></CycloneDDS>'
```

and then source it: `source ~/unitree_ros2/setup.sh`. Finally, 

```bash ros2 topic echo lowstate
ros2 topic echo lowcmd
mode_pr: 0
mode_machine: 4
motor_cmd:
- mode: 1
  q: 0.0
  dq: 0.0
  tau: 0.0
  kp: 0.0
  kd: 0.0
  reserve: 0
```

```bash ros2 topic list
/EstimatorData
/SymState
/SymState_back
/api/bashrunner/request
/api/bashrunner/response
/api/config/request
/api/config/response
/api/loco/request
/api/loco/response
/api/motion_switcher/request
/api/motion_switcher/response
/api/robot_state/request
/api/robot_state/response
/arm_sdk
/audiosender
/config_change_status
/dex3/left/cmd
/dex3/left/state
/dex3/right/cmd
/dex3/right/state
/frontvideostream
/gnss
/lf/bmsstate
/lf/dex3/left/state
/lf/dex3/right/state
/lf/lowstate
/lf/lowstate_doubleimu
/lf/mainboardstate
/lf/odommodestate
/loco_sdk
/lowcmd
/lowstate
/lowstate_doubleimu
/multiplestate
/odommodestate
/parameter_events
/public_network_status
/rosout
/rtc/state
/rtc_status
/selftest
/servicestate
/servicestateactivate
/videohub/inner
/webrtcreq
/webrtcres
/wirelesscontroller
```

rt/dex3/right/state unitree_hg::msg::dds_::HandState_
rt/lf/dex3/right/state unitree_hg::msg::dds_::HandState_
rt/dex3/right/cmd unitree_hg::msg::dds_::HandCmd_
rt/EstimatorData unitree_go::msg::dds_::EstimatorData_
rt/SymState_back unitree_go::msg::dds_::SymState_
rt/odommodestate unitree_go::msg::dds_::SportModeState_
rt/lf/odommodestate unitree_go::msg::dds_::SportModeState_
rt/lowstate unitree_hg::msg::dds_::LowState_
rt/SymState unitree_go::msg::dds_::SymState_
rt/api/bashrunner/response unitree_api::msg::dds_::Response_
rt/selftest std_msgs::msg::dds_::String_
rt/api/bashrunner/request unitree_api::msg::dds_::Request_
rt/lf/lowstate unitree_hg::msg::dds_::LowState_
rt/api/motion_switcher/response unitree_api::msg::dds_::Response_
rt/api/motion_switcher/request unitree_api::msg::dds_::Request_
rt/config_change_status unitree_go::msg::dds_::ConfigChangeStatus_
rt/api/config/response unitree_api::msg::dds_::Response_
rt/api/config/request unitree_api::msg::dds_::Request_
rt/api/robot_state/response unitree_api::msg::dds_::Response_
rt/api/robot_state/request unitree_api::msg::dds_::Request_
rt/servicestate std_msgs::msg::dds_::String_
rt/multiplestate std_msgs::msg::dds_::String_
rt/public_network_status std_msgs::msg::dds_::String_
rt/gnss std_msgs::msg::dds_::String_
rt/lf/bmsstate unitree_hg::msg::dds_::BmsState_
rt/lf/mainboardstate unitree_hg::msg::dds_::MainBoardState_
rt/webrtcreq std_msgs::msg::dds_::String_
rt/webrtcres std_msgs::msg::dds_::String_
rt/lowcmd unitree_hg::msg::dds_::LowCmd_
rt/lowstate_doubleimu unitree_hg_doubleimu::msg::dds_::doubleIMUState_
rt/lf/lowstate_doubleimu unitree_hg_doubleimu::msg::dds_::doubleIMUState_
rt/wirelesscontroller unitree_go::msg::dds_::WirelessController_
rt/frontvideostream unitree_go::msg::dds_::Go2FrontVideoData_
rt/audiosender unitree_go::msg::dds_::AudioData_
rt/servicestateactivate std_msgs::msg::dds_::String_
rt/rtc_status std_msgs::msg::dds_::String_
rt/videohub/inner std_msgs::msg::dds_::String_
rt/rtc/state std_msgs::msg::dds_::String_
rt/api/bashrunner/request unitree_api::msg::dds_::Request_
rt/lf/dex3/left/state unitree_hg::msg::dds_::HandState_
rt/dex3/left/state unitree_hg::msg::dds_::HandState_
rt/dex3/left/cmd unitree_hg::msg::dds_::HandCmd_

## CycloneDDS Testing on your host computer

From `cycloneDDS/build`:

```bash ping
# send some pings
./bin/RoundtripPing 0 0 0
```

In another terminal, receive those pings and send them right back:
```bash ping
./bin/RoundtripPong
```

List all topics visible on your computer
```
./bin/listtopics
```
For that to work, the `CYCLONEDDS_URI` needs to be set correctly 

export CYCLONEDDS_URI='
<CycloneDDS><Domain>
	<General>
	<Interfaces><NetworkInterface name="en6" priority="default" multicast="default" /></Interfaces>
	</General>
	<Discovery><EnableTopicDiscoveryEndpoints>true</EnableTopicDiscoveryEndpoints></Discovery>
	</Domain>
</CycloneDDS>'  
